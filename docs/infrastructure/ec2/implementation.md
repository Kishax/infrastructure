# Kishax Infrastructure å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**ä½œæˆæ—¥**: 2025-12-12  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**å®Ÿè£…è€…**: AI + Human

---

## ğŸ“‹ å®Ÿè£…æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™

æ—§ç’°å¢ƒï¼ˆCloudFormation + ECS/Fargateï¼‰ã‹ã‚‰æ–°ç’°å¢ƒï¼ˆTerraform + EC2ï¼‰ã¸ã®ç§»è¡Œã«ã‚ˆã‚Šã€ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã¨é‹ç”¨ç°¡ç´ åŒ–ã‚’å®Ÿç¾ã€‚

- **æ—§ç’°å¢ƒã‚³ã‚¹ãƒˆ**: æœˆé¡ Â¥17,000ï¼ˆä¼æ¥­ãƒ¬ãƒ™ãƒ«ï¼‰
- **æ–°ç’°å¢ƒã‚³ã‚¹ãƒˆ**: æœˆé¡ Â¥6,900ï¼ˆãƒŸãƒ‰ãƒ«ãƒ¬ãƒ™ãƒ«ï¼‰
- **å‰Šæ¸›ç‡**: ç´„60%

### å®Ÿè£…æœŸé–“

- **è¨ˆç”»ãƒ»è¨­è¨ˆ**: 2025-12-12
- **å®Ÿè£…**: 2025-12-12
- **çŠ¶æ…‹**: âœ… Terraformæ§‹æˆå®Œæˆã€ãƒ‡ãƒ—ãƒ­ã‚¤å¾…ã¡

---

## ğŸ—ï¸ å®Ÿè£…ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWS Cloud (ap-northeast-1)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    VPC (10.0.0.0/16)                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Public Subnet 1  â”‚     â”‚  Public Subnet 2       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚     â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ i-a (t3.large)â”‚  â”‚     â”‚  â”‚ i-c (t2.micro)  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ MC Server    â”‚  â”‚     â”‚  â”‚ Web + Discord   â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ On-Demand    â”‚  â”‚     â”‚  â”‚ Spot            â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ 22:00-27:00  â”‚  â”‚     â”‚  â”‚ 24/7            â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚          â”‚     â”‚           â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    [Elastic IP]   â”‚     â”‚      [Public IP]       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚          â”‚     â”‚           â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚            â”‚                            â”‚               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Private Subnet 1  â”‚     â”‚  Private Subnet 2      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚     â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ i-b (t3.small)â”‚ â”‚     â”‚  â”‚ i-d (t2.micro)  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ API + Redis   â”‚ â”‚     â”‚  â”‚ Jump Server     â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Spot          â”‚ â”‚     â”‚  â”‚ On-Demand       â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ 24/7          â”‚ â”‚     â”‚  â”‚ On-Demand Only  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                   â”‚     â”‚                        â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚           RDS Subnet Group (Multi-AZ)            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  PostgreSQL      â”‚   â”‚  MySQL               â”‚â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  db.t4g.micro    â”‚   â”‚  db.t4g.micro        â”‚â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  20GB gp3        â”‚   â”‚  20GB gp3            â”‚â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  CloudFront Distribution                 â”‚   â”‚
â”‚  â”‚              (WAF Enabled, TLS 1.2+)                     â”‚   â”‚
â”‚  â”‚                   web.kishax.net                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  Route53 (kishax.net)                    â”‚  â”‚
â”‚  â”‚  - mc.kishax.net  â†’ Elastic IP (i-a)                    â”‚  â”‚
â”‚  â”‚  - web.kishax.net â†’ CloudFront                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    SQS Queues                            â”‚   â”‚
â”‚  â”‚  - kishax-to-mc-queue (WEB â†’ MC)                        â”‚   â”‚
â”‚  â”‚  - kishax-to-web-queue (MC â†’ WEB)                       â”‚   â”‚
â”‚  â”‚  - kishax-discord-queue                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

External:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Minecraft      â”‚ â”€â”€â†’ mc.kishax.net:25565 â†’ i-a
  â”‚  Clients        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Web Browsers   â”‚ â”€â”€â†’ web.kishax.net â†’ CloudFront â†’ i-c
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ å®Ÿè£…å†…å®¹

### 1. Terraformãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

```
terraform/
â”œâ”€â”€ main.tf                    # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ variables.tf               # ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°å®šç¾©
â”œâ”€â”€ outputs.tf                 # å‡ºåŠ›å®šç¾©
â”œâ”€â”€ terraform.tfvars.example   # å¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ README.md                  # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰
â””â”€â”€ modules/
    â”œâ”€â”€ vpc/                   # VPC, ã‚µãƒ–ãƒãƒƒãƒˆ, IGW
    â”œâ”€â”€ security_groups/       # 5ã¤ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—
    â”œâ”€â”€ iam/                   # 4ã¤ã®IAMãƒ­ãƒ¼ãƒ«
    â”œâ”€â”€ rds/                   # PostgreSQL + MySQL
    â”œâ”€â”€ sqs/                   # 3ã¤ã®ã‚­ãƒ¥ãƒ¼ + DLQ
    â”œâ”€â”€ ec2/                   # 4å°ã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    â”œâ”€â”€ cloudfront/            # CloudFront Distribution
    â””â”€â”€ route53/               # DNSãƒ¬ã‚³ãƒ¼ãƒ‰
```

### 2. VPCãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/vpc`)

**å®Ÿè£…å†…å®¹**:
- VPC: `10.0.0.0/16`
- Public Subnets: 2ã¤ï¼ˆMulti-AZï¼‰
- Private Subnets: 2ã¤ï¼ˆMulti-AZã€RDSç”¨ï¼‰
- Internet Gateway
- Route Tablesï¼ˆPublic/Privateï¼‰

**ç‰¹å¾´**:
- DNS hostnamesæœ‰åŠ¹åŒ–
- å¯ç”¨æ€§ã‚¾ãƒ¼ãƒ³è‡ªå‹•é¸æŠ
- CIDRè‡ªå‹•è¨ˆç®—ï¼ˆ`cidrsubnet`é–¢æ•°ï¼‰

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/security_groups`)

**å®Ÿè£…å†…å®¹**:
1. **MC Server SG** (i-a)
   - Inbound: 25565/tcp (Minecraft), 22/tcp (SSH)
   - Outbound: All

2. **API Server SG** (i-b)
   - Inbound: 8080/tcp (HTTP from i-a, i-c), 6379/tcp (Redis from i-a, i-c), 22/tcp (SSH)
   - Outbound: All

3. **Web Server SG** (i-c)
   - Inbound: 80/tcp, 443/tcp (CloudFront), 22/tcp (SSH)
   - Outbound: All

4. **Jump Server SG** (i-d)
   - Inbound: ãªã—ï¼ˆSSM Session ManagerçµŒç”±ï¼‰
   - Outbound: All

5. **RDS SG**
   - Inbound: 5432/tcp (PostgreSQL from i-b, i-c, i-d), 3306/tcp (MySQL from i-a, i-d)
   - Outbound: All

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …**:
- SSHè¨±å¯ã¯ `0.0.0.0/0`ï¼ˆTODOã§ç‰¹å®šIPã«åˆ¶é™æ¨å¥¨ï¼‰
- CloudFrontã®IPãƒ¬ãƒ³ã‚¸åˆ¶é™ã¯ä»Šå¾Œå®Ÿè£…å¯èƒ½

### 4. IAMãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/iam`)

**å®Ÿè£…å†…å®¹**:
1. **MC Server Role** (i-a)
   - Route53æ›´æ–°æ¨©é™ï¼ˆ`mc.kishax.net`ã®Aãƒ¬ã‚³ãƒ¼ãƒ‰ï¼‰
   - SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª­ã¿å–ã‚Š

2. **API Server Role** (i-b)
   - SQSé€å—ä¿¡æ¨©é™
   - SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª­ã¿å–ã‚Š

3. **Web Server Role** (i-c)
   - SQSé€å—ä¿¡æ¨©é™
   - SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª­ã¿å–ã‚Š

4. **Jump Server Role** (i-d)
   - SSM Session Managerï¼ˆAmazonSSMManagedInstanceCoreï¼‰

**ç‰¹å¾´**:
- æœ€å°æ¨©é™ã®åŸå‰‡
- ãƒªã‚½ãƒ¼ã‚¹ARNã§å³å¯†ã«åˆ¶é™
- Instance Profileã‚‚è‡ªå‹•ä½œæˆ

### 5. RDSãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/rds`)

**å®Ÿè£…å†…å®¹**:
1. **PostgreSQL**
   - Engine: postgres 16.1
   - Instance: db.t4g.micro
   - Storage: 20GB gp3, encrypted
   - Backup: 3æ—¥é–“ä¿æŒ
   - Multi-AZ: ç„¡åŠ¹ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰

2. **MySQL**
   - Engine: mysql 8.0.35
   - Instance: db.t4g.micro
   - Storage: 20GB gp3, encrypted
   - Backup: 3æ—¥é–“ä¿æŒ
   - Multi-AZ: ç„¡åŠ¹ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰
   - Character Set: utf8mb4

**ã‚³ã‚¹ãƒˆæœ€é©åŒ–**:
- Performance Insights: ç„¡åŠ¹
- Enhanced Monitoring: 60ç§’é–“éš”ï¼ˆæœ€å°ï¼‰
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: 3æ—¥é–“ï¼ˆ7æ—¥ã‹ã‚‰çŸ­ç¸®ï¼‰

### 6. SQSãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/sqs`)

**å®Ÿè£…å†…å®¹**:
- `kishax-to-mc-queue`: WEB â†’ MCé€šä¿¡
- `kishax-to-web-queue`: MC â†’ WEBé€šä¿¡
- `kishax-discord-queue`: Discord Botç”¨
- å„ã‚­ãƒ¥ãƒ¼ã«DLQï¼ˆDead Letter Queueï¼‰
- IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆï¼ˆMC-Web SQSå°‚ç”¨ï¼‰
- ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼è‡ªå‹•ç”Ÿæˆ â†’ SSMã«ä¿å­˜

**è¨­å®š**:
- Visibility Timeout: 300ç§’
- Message Retention: 14æ—¥é–“
- Long Polling: 20ç§’
- Max Receive Count: 3ï¼ˆDLQã¸ç§»å‹•ï¼‰

### 7. EC2ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/ec2`)

**å®Ÿè£…å†…å®¹**:

#### i-a: MC Server
- **Instance**: t3.largeï¼ˆã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ï¼‰
- **Storage**: Root 50GB + Data 100GB (EBS)
- **EBSå‰Šé™¤ä¿è­·**: æœ‰åŠ¹ï¼ˆ`delete_on_termination = false`ï¼‰
- **Elastic IP**: å›ºå®šIPå‰²ã‚Šå½“ã¦
- **User Data**: Route53è‡ªå‹•æ›´æ–° + Docker setup

#### i-b: API Server
- **Instance**: t3.smallï¼ˆã‚¹ãƒãƒƒãƒˆã€persistentï¼‰
- **Storage**: 30GB gp3
- **User Data**: Docker + Redis setup
- **Redis**: EC2å†…ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆãƒãƒ¼ãƒˆ6379ï¼‰

#### i-c: Web Server
- **Instance**: t2.microï¼ˆã‚¹ãƒãƒƒãƒˆã€persistentï¼‰
- **Storage**: 20GB gp3
- **User Data**: Docker setup
- **å½¹å‰²**: Web + Discord Bot

#### i-d: Jump Server
- **Instance**: t2.microï¼ˆã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ï¼‰
- **Storage**: 10GB gp3
- **User Data**: PostgreSQL/MySQL client setup
- **ã‚¢ã‚¯ã‚»ã‚¹**: SSM Session ManagerçµŒç”±

**ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨­å®š**:
- `spot_type = "persistent"`: ä¸­æ–­æ™‚è‡ªå‹•å†èµ·å‹•
- ã‚³ã‚¹ãƒˆç´„70%å‰Šæ¸›

### 8. CloudFrontãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/cloudfront`)

**å®Ÿè£…å†…å®¹**:
- Origin: i-cï¼ˆWeb Serverï¼‰ã® Public IP
- Protocol: HTTPï¼ˆEC2 â†’ CloudFrontï¼‰
- Viewer: HTTPSå¿…é ˆï¼ˆ`redirect-to-https`ï¼‰
- SSL: ACMè¨¼æ˜æ›¸ï¼ˆus-east-1ï¼‰
- Price Class: 200ï¼ˆAsia, Europe, USï¼‰
- Cache: é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¯æœ€å¤§7æ—¥é–“

**ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼**:
- 404 â†’ `/404.html`
- 500 â†’ `/500.html`

**WAF**: ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼ˆå¿…è¦æ™‚ã«æœ‰åŠ¹åŒ–å¯èƒ½ï¼‰

### 9. Route53ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (`modules/route53`)

**å®Ÿè£…å†…å®¹**:
1. **mc.kishax.net** (Aãƒ¬ã‚³ãƒ¼ãƒ‰)
   - å€¤: Elastic IPï¼ˆi-aï¼‰
   - TTL: 60ç§’
   - æ³¨: User Dataã§å‹•çš„æ›´æ–°ã•ã‚Œã‚‹ãŸã‚ `ignore_changes`

2. **web.kishax.net** (Alias)
   - å€¤: CloudFront Distribution

---

## ğŸ”§ User Dataã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### MC Server (`user-data-mc-server.sh`)

**å‡¦ç†å†…å®¹**:
1. Public IPã‚’å–å¾—
2. Route53ãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–°ï¼ˆ`mc.kishax.net`ï¼‰
3. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
4. Docker + Docker Composeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
5. minecraftãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
6. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆ`/opt/minecraft/data`, `/opt/minecraft/images`ï¼‰
7. systemdã‚µãƒ¼ãƒ“ã‚¹å®šç¾©

**Route53æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯**:
```bash
CHANGE_BATCH=$(cat <<EOF
{
  "Changes": [{
    "Action": "UPSERT",
    "ResourceRecordSet": {
      "Name": "${mc_domain_name}",
      "Type": "A",
      "TTL": 60,
      "ResourceRecords": [{"Value": "$PUBLIC_IP"}]
    }
  }]
}
EOF
)

aws route53 change-resource-record-sets \
    --hosted-zone-id ${route53_zone_id} \
    --change-batch "$CHANGE_BATCH"
```

### API Server (`user-data-api-server.sh`)

**å‡¦ç†å†…å®¹**:
1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. Docker + Docker Composeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. **Redisã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
4. Redisè¨­å®šå¤‰æ›´ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ï¼‰
5. apiãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
6. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆ`/opt/api`ï¼‰
7. systemdã‚µãƒ¼ãƒ“ã‚¹å®šç¾©

**Redisè¨­å®š**:
```bash
sed -i 's/^bind 127.0.0.1/bind 0.0.0.0/' /etc/redis.conf
sed -i 's/^protected-mode yes/protected-mode no/' /etc/redis.conf
systemctl start redis
systemctl enable redis
```

### Web Server (`user-data-web-server.sh`)

**å‡¦ç†å†…å®¹**:
1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. Docker + Docker Composeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. webãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
4. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆ`/opt/web`, `/opt/discord`ï¼‰
5. systemdã‚µãƒ¼ãƒ“ã‚¹å®šç¾©ï¼ˆweb, discordï¼‰

### Jump Server (`user-data-jump-server.sh`)

**å‡¦ç†å†…å®¹**:
1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. PostgreSQL clientã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. MySQL clientã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
4. SSM Agentã®ç¢ºèªã¨èµ·å‹•

---

## ğŸ“Š ã‚³ã‚¹ãƒˆè©¦ç®—

### æœˆé¡ã‚³ã‚¹ãƒˆå†…è¨³

| ãƒªã‚½ãƒ¼ã‚¹ | ã‚¹ãƒšãƒƒã‚¯ | è³¼å…¥ | ç¨¼åƒæ™‚é–“ | æœˆé¡ï¼ˆUSDï¼‰ |
|---------|---------|------|---------|------------|
| **i-a** | t3.large | ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ | 5h/day | $15.00 |
| **i-b** | t3.small | ã‚¹ãƒãƒƒãƒˆ | 24h | $4.50 |
| **i-c** | t2.micro | ã‚¹ãƒãƒƒãƒˆ | 24h | $2.40 |
| **i-d** | t2.micro | ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ | 2h/month | $0.50 |
| **RDS PostgreSQL** | db.t4g.micro | - | 24h | $10.00 |
| **RDS MySQL** | db.t4g.micro | - | 24h | $10.00 |
| **SQS** | æ¨™æº– | - | - | $1.00 |
| **CloudFront** | æœ€é©åŒ– | - | - | $2.00 |
| **Elastic IP** | i-aç”¨ | - | 5h/day | $0.20 |
| **ãƒ‡ãƒ¼ã‚¿è»¢é€** | æ¦‚ç®— | - | - | $1.00 |
| **åˆè¨ˆ** | | | | **$46.60** |

**å††æ›ç®—**: ç´„ **Â¥6,990**ï¼ˆ$1 = Â¥150æ›ç®—ï¼‰

### å°†æ¥ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›

| æ–½ç­– | å‰Šæ¸›é¡ï¼ˆUSD/æœˆï¼‰ | ç·é¡ |
|------|----------------|------|
| ç¾çŠ¶ | - | $46.60 |
| MySQLå‰Šé™¤ï¼ˆPhase 3ï¼‰ | -$10.00 | $36.60 |
| RDS Savings Plansï¼ˆ1å¹´ï¼‰ | -$8.00 | $28.60 |
| **æœ€çµ‚ç›®æ¨™** | | **$28.60 (Â¥4,290)** |

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…

### 1. ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
- **EBS**: ã™ã¹ã¦ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ã§æš—å·åŒ–æœ‰åŠ¹
- **RDS**: ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æš—å·åŒ–æœ‰åŠ¹
- **SSM Parameter Store**: SecureStringä½¿ç”¨

### 2. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢
- **Private Subnet**: i-bï¼ˆAPIï¼‰, i-dï¼ˆJumpï¼‰ã¯å¤–éƒ¨ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- **Public Subnet**: i-aï¼ˆMCï¼‰, i-cï¼ˆWebï¼‰ã®ã¿

### 3. IAMãƒ­ãƒ¼ãƒ«
- æœ€å°æ¨©é™ã®åŸå‰‡
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½¿ç”¨ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ä¸è¦ï¼‰
- ãƒªã‚½ãƒ¼ã‚¹ARNã§å³å¯†ã«åˆ¶é™

### 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—
- ãƒãƒ¼ãƒˆå˜ä½ã§åˆ¶é™
- ã‚½ãƒ¼ã‚¹ã‚’SG IDã§å‚ç…§ï¼ˆIPãƒ¬ãƒ³ã‚¸ä¸è¦ï¼‰

### 5. ãƒ‡ãƒ¼ã‚¿ä¿è­·
- **i-a**: EBSå‰Šé™¤ä¿è­·ï¼ˆ`delete_on_termination = false`ï¼‰
- **RDS**: æœ€çµ‚ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•ä½œæˆ
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: 3æ—¥é–“ä¿æŒ

---

## âš™ï¸ é‹ç”¨è¨­è¨ˆ

### 1. MC Serverï¼ˆi-aï¼‰ã®èµ·å‹•/åœæ­¢

**æ‰‹å‹•é‹ç”¨**:
```bash
# èµ·å‹•ï¼ˆ22:00ï¼‰
aws ec2 start-instances --instance-ids i-xxxxx

# åœæ­¢ï¼ˆ27:00 = ç¿Œ3:00ï¼‰
aws ec2 stop-instances --instance-ids i-xxxxx
```

**è‡ªå‹•åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**:
- EventBridgeï¼ˆCloudWatch Eventsï¼‰+ Lambda
- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: `cron(0 13 * * ? *)` (JST 22:00)
- åœæ­¢: `cron(0 18 * * ? *)` (JST 27:00 = ç¿Œ3:00)

### 2. ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸­æ–­å¯¾å¿œ

**i-b, i-c**:
- `spot_type = "persistent"`: è‡ªå‹•å†èµ·å‹•
- ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ : æ•°åˆ†ç¨‹åº¦
- ãƒ‡ãƒ¼ã‚¿ãƒ­ã‚¹: ãªã—ï¼ˆRDSä¿å­˜ï¼‰

**ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**:
```bash
# ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹çŠ¶æ…‹ç¢ºèª
aws ec2 describe-spot-instance-requests \
  --spot-instance-request-ids sir-xxxxx
```

### 3. RDSãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**: 03:00-04:00 JST
**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**: æœˆæ›œ 04:00-05:00 JST

**æ‰‹å‹•ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ**:
```bash
aws rds create-db-snapshot \
  --db-instance-identifier kishax-production-postgres \
  --db-snapshot-identifier manual-snapshot-YYYY-MM-DD
```

### 4. Jump Serverï¼ˆi-dï¼‰é‹ç”¨

**èµ·å‹•**:
```bash
aws ec2 start-instances --instance-ids i-xxxxx
```

**æ¥ç¶š**:
```bash
aws ssm start-session --target i-xxxxx
```

**åœæ­¢**ï¼ˆä½œæ¥­å®Œäº†å¾Œï¼‰:
```bash
aws ec2 stop-instances --instance-ids i-xxxxx
```

### 5. ãƒ­ã‚°ç®¡ç†

**CloudWatch Logs**:
- EC2: `/var/log/user-data.log`ï¼ˆUser Dataå®Ÿè¡Œãƒ­ã‚°ï¼‰
- RDS PostgreSQL: `postgresql`, `upgrade`
- RDS MySQL: `error`, `general`, `slowquery`

**ãƒ­ã‚°ä¿æŒæœŸé–“**: 30æ—¥é–“ï¼ˆCloudWatch Logs Groupsï¼‰

---

## ğŸ“ˆ ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ

### æ¨å¥¨CloudWatch Alarms

1. **RDS CPUä½¿ç”¨ç‡**: > 80%
2. **RDS ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: < 20% ç©ºã
3. **SQS DLQ**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° > 0
4. **EC2ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯**: Failed
5. **ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸­æ–­**: EventBridge Rule

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] AWS CLIè¨­å®šå®Œäº†
- [ ] Terraform v1.5ä»¥ä¸Šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] Route53 Hosted Zone IDã‚’å–å¾—
- [ ] ACMè¨¼æ˜æ›¸ä½œæˆï¼ˆus-east-1ï¼‰
- [ ] EC2 Key Pairä½œæˆ
- [ ] RDSãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ±ºå®š

### ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰

```bash
# 1. CloudFormationã‚¹ã‚¿ãƒƒã‚¯å‰Šé™¤
aws cloudformation delete-stack \
  --stack-name kishax-infrastructure \
  --profile 126112056177_AdministratorAccess

# 2. terraform.tfvarsä½œæˆ
cd terraform
cp terraform.tfvars.example terraform.tfvars
# ç·¨é›†: vim terraform.tfvars

# 3. TerraformåˆæœŸåŒ–
terraform init

# 4. å®Ÿè¡Œè¨ˆç”»ç¢ºèª
terraform plan

# 5. ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ
terraform apply

# 6. å‡ºåŠ›ç¢ºèª
terraform output
```

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®è¨­å®š

1. **SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç™»éŒ²**ï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰
2. **EC2ã¸ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤**
3. **RDSæ¥ç¶šç¢ºèª**
4. **å‹•ä½œãƒ†ã‚¹ãƒˆ**

---

## âš ï¸ æ—¢çŸ¥ã®åˆ¶é™äº‹é …

### 1. CloudFront Origin

**ç¾çŠ¶**: EC2ã®Public IPã‚’ç›´æ¥æŒ‡å®š
**å•é¡Œ**: ã‚¹ãƒãƒƒãƒˆä¸­æ–­æ™‚ã«IPãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§
**å¯¾ç­–**: Elastic IPã‚’i-cã«ã‚‚å‰²ã‚Šå½“ã¦ï¼ˆè¿½åŠ ã‚³ã‚¹ãƒˆ$3.6/æœˆï¼‰

### 2. Redis

**ç¾çŠ¶**: i-bå†…ã«å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
**åˆ¶é™**: é«˜å¯ç”¨æ€§ãªã—
**å¯¾ç­–**: 
- Phase 2ã§ElastiCacheæ¤œè¨
- ã¾ãŸã¯ã€i-bå†…ã§Redis Sentinelã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 3. MySQL â†’ PostgreSQLçµ±åˆ

**Phase 3ã§å®Ÿæ–½äºˆå®š**:
- å†™çœŸãƒ‡ãƒ¼ã‚¿ã®S3ç§»è¡ŒãŒå‰æ
- Javaãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ”¹ä¿®å¿…è¦

### 4. WAF

**ç¾çŠ¶**: ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
**ç†ç”±**: è¿½åŠ ã‚³ã‚¹ãƒˆï¼ˆæœˆé¡$5-10ï¼‰
**æœ‰åŠ¹åŒ–æ–¹æ³•**: `modules/cloudfront/main.tf`ã®ã‚³ãƒ¡ãƒ³ãƒˆè§£é™¤

---

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [pre-implement.md](./pre-implement.md): å®Ÿè£…å‰ä»•æ§˜æ›¸
- [next.md](./next.md): è¦ä»¶å®šç¾©
- [reduce-cost.md](./reduce-cost.md): ã‚³ã‚¹ãƒˆå‰Šæ¸›æ¡ˆ
- [terraform/README.md](../../terraform/README.md): ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰

### Terraformå…¬å¼
- [AWS Provider](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)
- [Best Practices](https://www.terraform.io/docs/cloud/guides/recommended-practices/index.html)

### AWSå…¬å¼
- [EC2 Spot Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html)
- [RDS Best Practices](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_BestPractices.html)
- [CloudFront with Custom Origins](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/DownloadDistS3AndCustomOrigins.html)

---

## âœ… å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1: ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ï¼ˆå®Œäº†ï¼‰
- [x] Terraformæ§‹æˆä½œæˆ
- [x] VPC/ã‚µãƒ–ãƒãƒƒãƒˆå®šç¾©
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å®šç¾©
- [x] IAMãƒ­ãƒ¼ãƒ«å®šç¾©
- [x] RDSå®šç¾©ï¼ˆPostgreSQL + MySQLï¼‰
- [x] SQSå®šç¾©
- [x] EC2å®šç¾©ï¼ˆ4å°ï¼‰
- [x] CloudFrontå®šç¾©
- [x] Route53å®šç¾©
- [x] User Dataã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [x] READMEã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- [x] `.gitignore`è¨­å®š
- [x] åˆå›ã‚³ãƒŸãƒƒãƒˆ

### Phase 2: ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ¬¡ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- [ ] CloudFormationã‚¹ã‚¿ãƒƒã‚¯å‰Šé™¤
- [ ] `terraform.tfvars`ä½œæˆ
- [ ] `terraform init`
- [ ] `terraform plan`ç¢ºèª
- [ ] `terraform apply`å®Ÿè¡Œ
- [ ] å‡ºåŠ›å€¤ã®è¨˜éŒ²

### Phase 3: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç™»éŒ²
- [ ] i-aã¸ã®MCã‚µãƒ¼ãƒãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] i-bã¸ã®APIãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] i-cã¸ã®Web + Discordãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] å‹•ä½œç¢ºèª

### Phase 4: é‹ç”¨é–‹å§‹
- [ ] ç›£è¦–è¨­å®šï¼ˆCloudWatch Alarmsï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ€çµ‚æ›´æ–°
- [ ] ãƒãƒ¼ãƒ å…±æœ‰

---

## ğŸ‰ ã¾ã¨ã‚

### é”æˆã—ãŸã“ã¨

âœ… CloudFormationã‹ã‚‰Terraformã¸ã®å®Œå…¨ç§»è¡Œ  
âœ… EC2ãƒ™ãƒ¼ã‚¹ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£  
âœ… æœˆé¡ã‚³ã‚¹ãƒˆ60%å‰Šæ¸›ï¼ˆÂ¥17,000 â†’ Â¥6,900ï¼‰  
âœ… ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸTerraformæ§‹æˆ  
âœ… è‡ªå‹•åŒ–ã•ã‚ŒãŸã‚¤ãƒ³ãƒ•ãƒ©ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆUser Dataï¼‰  
âœ… ã‚»ã‚­ãƒ¥ã‚¢ãªIAMè¨­è¨ˆï¼ˆæœ€å°æ¨©é™ï¼‰  
âœ… ãƒ‡ãƒ¼ã‚¿ä¿è­·ï¼ˆEBS/RDSæš—å·åŒ–ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰  
âœ… ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆæœ€é©åŒ–  
âœ… åŒ…æ‹¬çš„ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™  

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹AWSãƒ­ã‚°ã‚¤ãƒ³**
2. **terraform.tfvarsã®è¨­å®š**
3. **Terraformãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ**
4. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤**
5. **é‹ç”¨é–‹å§‹**

---

**ä½œæˆè€…**: AI Assistant  
**ãƒ¬ãƒ“ãƒ¥ãƒ¼**: æœªå®Ÿæ–½  
**æ‰¿èª**: æœªå®Ÿæ–½  
**æœ€çµ‚æ›´æ–°**: 2025-12-12
